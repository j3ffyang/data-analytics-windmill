psql -d ambari_server -h localhost -U dbuser -W -c "update clusterconfig set config_data='{\"timeline.metrics.host.aggregate.splitpoints\":\"Total Tasks,cpu_num,default.StartupProgress.LoadingFsImageTotal,dfs.FSNamesystem.ScheduledReplicationBlocks,dfs.datanode.HeartbeatsAvgTime,dfs.datanode.WriteBlockOpNumOps,dfs.namenode.RenameSnapshotOps,ipc.IPC.ProcessCallTime_num_ops,jvm.JvmMetrics.GcTimeMillis,jvm.JvmMetrics.MemNonHeapUsedM,kafka.controller.ControllerStats.LeaderElectionRateAndTimeMs.mean,kafka.network.RequestChannel.ResponseQueueSize.processor.2,kafka.network.RequestMetrics.RequestsPerSec.request.Heartbeat.15MinuteRate,kafka.network.RequestMetrics.RequestsPerSec.request.OffsetFetch.5MinuteRate,kafka.network.RequestMetrics.RequestsPerSec.request.UpdateMetadata.meanRate,kafka.network.SocketServer.NetworkProcessorAvgIdlePercent.5MinuteRate,kafka.server.BrokerTopicMetrics.FailedProduceRequestsPerSec.5MinuteRate,mapred.ShuffleMetrics.ShuffleOutputsFailed,master.Balancer.BalancerCluster_median,master.FileSystem.MetaHlogSplitTime_75th_percentile,mem_shared,metricssystem.MetricsSystem.Sink_timelineAvgTime,read_bps,regionserver.Server.Delete_median,regionserver.Server.Replay_95th_percentile,rpc.RetryCache.NameNodeRetryCache.CacheHit,rpc.rpc.SentBytes,rpcdetailed.rpcdetailed.GetContainerStatusesAvgTime,rpcdetailed.rpcdetailed.StopContainersAvgTime\",\"timeline.metrics.cluster.aggregator.hourly.interval\":\"3600\",\"timeline.metrics.cluster.aggregator.minute.interval\":\"120\",\"timeline.metrics.cluster.aggregator.minute.ttl\":\"2592000\",\"timeline.metrics.cluster.aggregator.minute.checkpointCutOffMultiplier\":\"2\",\"timeline.metrics.host.aggregator.minute.interval\":\"120\",\"timeline.metrics.cluster.aggregator.daily.checkpointCutOffMultiplier\":\"1\",\"timeline.metrics.host.aggregator.hourly.interval\":\"3600\",\"timeline.metrics.service.rpc.address\":\"0.0.0.0:60200\",\"timeline.metrics.service.operation.mode\":\"embedded\",\"timeline.metrics.aggregator.checkpoint.dir\":\"/var/lib/ambari-metrics-collector/checkpoint\",\"timeline.metrics.host.aggregator.minute.disabled\":\"false\",\"timeline.metrics.cluster.aggregate.splitpoints\":\"dfs.datanode.CacheReportsAvgTime,jvm.JvmMetrics.MemHeapMaxM,kafka.network.RequestMetrics.RequestsPerSec.request.Offsets.1MinuteRate,master.Balancer.BalancerCluster_95th_percentile,regionserver.Server.Append_95th_percentile,rpcdetailed.rpcdetailed.GetNewApplicationNumOps\",\"timeline.metrics.cluster.aggregator.minute.disabled\":\"false\",\"timeline.metrics.service.use.groupBy.aggregators\":\"true\",\"timeline.metrics.host.aggregator.minute.checkpointCutOffMultiplier\":\"2\",\"phoenix.query.maxGlobalMemoryPercentage\":\"25\",\"timeline.metrics.service.default.result.limit\":\"5760\",\"timeline.metrics.hbase.compression.scheme\":\"SNAPPY\",\"timeline.metrics.cluster.aggregator.daily.ttl\":\"63072000\",\"timeline.metrics.service.checkpointDelay\":\"60\",\"timeline.metrics.sink.report.interval\":\"60\",\"timeline.metrics.cluster.aggregator.minute.timeslice.interval\":\"30\",\"timeline.metrics.service.webapp.address\":\"0.0.0.0:6188\",\"timeline.metrics.host.aggregator.daily.ttl\":\"31536000\",\"timeline.metrics.host.aggregator.hourly.ttl\":\"2592000\",\"timeline.metrics.host.aggregator.daily.disabled\":\"false\",\"timeline.metrics.cluster.aggregator.daily.interval\":\"86400\",\"timeline.metrics.cluster.aggregator.daily.disabled\":\"false\",\"timeline.metrics.cluster.aggregator.hourly.disabled\":\"false\",\"timeline.metrics.host.aggregator.hourly.disabled\":\"false\",\"timeline.metrics.host.aggregator.minute.ttl\":\"604800\",\"timeline.metrics.service.cluster.aggregator.appIds\":\"datanode,nodemanager,hbase\",\"timeline.metrics.host.aggregator.daily.checkpointCutOffMultiplier\":\"1\",\"timeline.metrics.cluster.aggregator.hourly.checkpointCutOffMultiplier\":\"2\",\"timeline.metrics.service.resultset.fetchSize\":\"2000\",\"timeline.metrics.hbase.data.block.encoding\":\"FAST_DIFF\",\"timeline.metrics.cluster.aggregator.hourly.ttl\":\"31536000\",\"timeline.metrics.sink.collection.period\":\"60\",\"timeline.metrics.host.aggregator.hourly.checkpointCutOffMultiplier\":\"2\",\"timeline.metrics.daily.aggregator.minute.interval\":\"86400\",\"timeline.metrics.host.aggregator.ttl\":\"86400\",\"phoenix.spool.directory\":\"/tmp\"}' where config_id=82;" > /tmp/test.log
